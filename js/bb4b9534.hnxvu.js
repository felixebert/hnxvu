/*! hnxvu 25-10-2013 */
!function(a){var b=function(){var b=a("audio:visible")[0];b.pause()};a.slickQuiz=function(c,d){var e=this,f=a(c),g="#"+f.attr("id"),h={checkAnswerText:"Check My Answer!",nextQuestionText:"Next &raquo;",backButtonText:"",tryAgainText:"",skipStartButton:!1,numberOfQuestions:null,randomSort:!1,randomSortQuestions:!1,randomSortAnswers:!1,preventUnanswered:!1,completionResponseMessaging:!1,disableResponseMessaging:!1},j="questionCount",k="questions",l="question",m="answers",n="responses",o="correctResponse",p="correct",q="incorrect",r="checkAnswer",s="nextQuestion",t="backToQuestion",u="tryAgain",v="."+j,w="."+k,x="."+l,y="."+m,z="."+n,A="."+o,B="."+p,C="."+q,D="."+r,E="."+s,F="."+t,G="."+u,H=g+" .startQuiz",I=g+" .quizName",J=g+" .quizArea",K=g+" .quizResults",L=g+" .quizResultsCopy",M=g+" .quizHeader",N=g+" .quizScore",O=g+" .quizLevel",P=a(H),Q=a(I),R=a(J),S=a(K),T=a(L),U=a(M),V=a(O),W="";d&&"undefined"!=typeof d.disableNext&&("undefined"==typeof d.preventUnanswered&&(d.preventUnanswered=d.disableNext),W+="The 'disableNext' option has been deprecated, please use 'preventUnanswered' in it's place.\n\n"),""!==W&&("undefined"!=typeof console?console.warn(W):alert(W)),e.config=a.extend(h,d);var X=e.config.json?e.config.json:"undefined"!=typeof quizJSON?quizJSON:null,Y=e.config.randomSort||e.config.randomSortQuestions?X.questions.sort(function(){return Math.round(Math.random())-.5}):X.questions,Z=Y.length;e.config.numberOfQuestions&&Z>=e.config.numberOfQuestions&&(Y=Y.slice(0,e.config.numberOfQuestions),Z=Y.length),e.method={setupQuiz:function(){Q.hide().html(X.info.name).fadeIn(1e3),U.hide().prepend(X.info.main).fadeIn(1e3),T.append(X.info.results),e.config.tryAgainText&&""!==e.config.tryAgainText&&T.before('<a class="button btn btn-default '+u+'" href="#">'+e.config.tryAgainText+"</a>");var b=a('<ol class="'+k+'"></ol>'),c=1;for(i in Y)if(Y.hasOwnProperty(i)){var d=Y[i],f=a('<li class="'+l+'" id="question'+(c-1)+'"></li>');f.append('<div class="'+j+'">Frage <span class="current">'+c+'</span> von <span class="total">'+Z+"</span></div><h2>Wo hört es sich so an?</h2>"),f.append('<div class="questionSound"><audio controls><source src="sounds/'+d.q+'.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio></div>');var g=1,h=a('<ul class="'+m+'"></ul>'),o=e.config.randomSort||e.config.randomSortAnswers?d.a.sort(function(){return Math.round(Math.random())-.5}):d.a,v=d.select_any?d.select_any:!1,w="question"+(c-1),x=g>1&&!v?"checkbox":"radio";for(i in o)if(o.hasOwnProperty(i)){answer=o[i],optionId=w+"_"+i.toString(),answer.label=X.labels[answer.option];var y='<input id="'+optionId+'" name="'+w+'" type="'+x+'" value="'+answer.option+'" />',z='<label for="'+optionId+'"><span>'+answer.label+'</span><img src="img/bruecken/'+answer.option+'.jpg" /></label>',A=a("<li></li>").append(z).append(y);h.append(A),answer.correct=answer.option===d.q?!0:!1}if(f.append(h),!e.config.disableResponseMessaging){var B=a('<ul class="'+n+'"></ul>');B.append('<li class="'+p+'">'+d.correct+"</li>"),B.append('<li class="'+q+'">'+d.incorrect+"</li>"),f.append(B)}e.config.backButtonText&&""!==e.config.backButtonText&&f.append('<a href="#" class="button btn btn-default '+t+'">'+e.config.backButtonText+"</a>"),e.config.disableResponseMessaging||e.config.completionResponseMessaging?f.append('<a href="#" class="button btn btn-default '+s+" "+r+'">'+e.config.nextQuestionText+"</a>"):(f.append('<a href="#" class="button btn btn-default '+s+'">'+e.config.nextQuestionText+"</a>"),f.append('<a href="#" class="button btn btn-primary '+r+'">'+e.config.checkAnswerText+"</a>")),b.append(f),c++}R.append(b),e.config.skipStartButton||0==P.length?(P.hide(),e.method.startQuiz(this)):P.fadeIn(500)},startQuiz:function(){function b(){var b=a(g+" "+w+" li").first();b.length&&b.fadeIn(500)}e.config.skipStartButton||0==P.length?b():P.fadeOut(300,function(){b()})},resetQuiz:function(){S.fadeOut(300,function(){a(g+" input").prop("checked",!1).prop("disabled",!1),V.attr("class","quizLevel"),a(g+" "+A).removeClass(o),a(g+" "+x+","+g+" "+z+","+g+" "+B+","+g+" "+C+","+g+" "+E+","+g+" "+F).hide(),a(g+" "+v+","+g+" "+y+","+g+" "+D).show(),R.append(a(g+" "+w)).show(),e.method.startQuiz(S)})},checkAnswer:function(b){var c=a(a(b).parents(x)[0]),d=c.find("input:checked"),f=parseInt(c.attr("id").replace(/(question)/,""),10),g=Y[f].a,h=Y[f].select_any?Y[f].select_any:!1,j=[];for(i in g)if(g.hasOwnProperty(i)){var k=g[i];k.correct&&j.push(a("<div />").html(k.option).text())}var l=[];if(d.each(function(){var b=a(this).val();l.push(b)}),e.config.preventUnanswered&&0===l.length)return alert("You must select at least one answer."),!1;var m=e.method.compareAnswers(j,l,h);m&&c.addClass(o),e.config.disableResponseMessaging||(e.config.completionResponseMessaging||(c.find(y).hide(),c.find(z).show(),a(b).hide(),c.find(E).fadeIn(300),c.find(F).fadeIn(300)),c.find(m?B:C).fadeIn(300))},nextQuestion:function(c){var d=a(a(c).parents(x)[0]),f=d.next(x),g=d.find("input:checked");return e.config.preventUnanswered&&0===g.length?!1:(b(),f.length?d.fadeOut(300,function(){f.find(F).show().end().fadeIn(500)}):e.method.completeQuiz(),void 0)},backToQuestion:function(c){var d=a(a(c).parents(x)[0]),f=d.find(y);if(b(),"block"===f.css("display")){var g=d.prev(x);d.fadeOut(300,function(){g.removeClass(o),g.find(z+", "+z+" li").hide(),g.find(y).show(),g.find(D).show(),e.config.disableResponseMessaging||e.config.completionResponseMessaging||g.find(E).hide(),"question0"!=g.attr("id")?g.find(F).show():g.find(F).hide(),g.fadeIn(500)})}else d.find(z).fadeOut(300,function(){d.removeClass(o),d.find(z+" li").hide(),f.fadeIn(500),d.find(D).fadeIn(500),d.find(E).hide(),"question0"!=d.attr("id")?d.find(F).show():d.find(F).hide()})},completeQuiz:function(){var b=[X.info.level1,X.info.level2,X.info.level3,X.info.level4,X.info.level5],c=a(g+" "+A).length,d=e.method.calculateLevel(c),f=a.isNumeric(d)?b[d]:"";a(N+" span").html(c+" / "+Z),a(O+" span").html(f),a(O).addClass("level"+d),R.fadeOut(300,function(){e.config.completionResponseMessaging&&!e.config.disableResponseMessaging?(a(g+" input").prop("disabled",!0),a(g+" .button:not("+G+"), "+g+" "+v).hide(),a(g+" "+x+", "+g+" "+z).show(),S.append(a(g+" "+w)).fadeIn(500)):S.fadeIn(500)})},compareAnswers:function(b,c,d){return d?a.inArray(c[0],b)>-1:0===a(b).not(c).length&&0===a(c).not(b).length},calculateLevel:function(a){var b=(a/Z).toFixed(2),c=null;return e.method.inRange(0,.2,b)?c=4:e.method.inRange(.21,.4,b)?c=3:e.method.inRange(.41,.6,b)?c=2:e.method.inRange(.61,.8,b)?c=1:e.method.inRange(.81,1,b)&&(c=0),c},inRange:function(a,b,c){return c>=a&&b>=c}},e.init=function(){e.method.setupQuiz(),P.on("click",function(b){b.preventDefault(),this.disabled||a(this).hasClass("disabled")||e.method.startQuiz()}),a(g+" "+G).on("click",function(a){a.preventDefault(),e.method.resetQuiz(this)}),a(g+" "+D).on("click",function(a){a.preventDefault(),e.method.checkAnswer(this)}),a(g+" "+F).on("click",function(a){a.preventDefault(),e.method.backToQuestion(this)}),a(g+" "+E).on("click",function(a){a.preventDefault(),e.method.nextQuestion(this)})},e.init()},a.fn.slickQuiz=function(b){return this.each(function(){if(void 0===a(this).data("slickQuiz")){var c=new a.slickQuiz(this,b);a(this).data("slickQuiz",c)}})}}(jQuery);var quizJSON={info:{results:"",level1:"Brücken-Experte",level2:"Brücken-Versteher",level3:"Brücken-Amateur",level4:"Brücken-Neuling",level5:"Brücken-Verweigerer"},labels:{deutschhof:"Überdachte Brücke im Deutschhof",europaplatz:"Brücke am Europaplatz",horkheim:"Schleuse bei Horkheim",klingenberg:"Brücke bei Klingenberg",neckartalstrasse:"Neckartalstraßenbrücke",pfuehlpark:"Brücke im Pfühlpark",schemmelsberg:"Schemmelsbergtunnel",trappensee:"Tunnel am Trappensee",wollhaus:"Brücke am Wollhaus"},questions:[{q:"klingenberg",a:[{option:"klingenberg"},{option:"deutschhof"},{option:"wollhaus"}],correct:"<p><strong>Richtig, gut erkannt!</strong> So klingt es unter der Brücke bei Klingenberg.</p>",incorrect:"<p><strong>Leider falsch.</strong> So klingt es unter der Brücke bei Klingenberg.</p>"},{q:"horkheim",a:[{option:"neckartalstrasse"},{option:"trappensee"},{option:"horkheim"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"deutschhof",a:[{option:"wollhaus"},{option:"deutschhof"},{option:"pfuehlpark"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"wollhaus",a:[{option:"europaplatz"},{option:"wollhaus"},{option:"schemmelsberg"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"neckartalstrasse",a:[{option:"pfuehlpark"},{option:"trappensee"},{option:"neckartalstrasse"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"trappensee",a:[{option:"europaplatz"},{option:"trappensee"},{option:"schemmelsberg"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"pfuehlpark",a:[{option:"deutschhof"},{option:"klingenberg"},{option:"pfuehlpark"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"schemmelsberg",a:[{option:"schemmelsberg"},{option:"horkheim"},{option:"europaplatz"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"},{q:"europaplatz",a:[{option:"neckartalstrasse"},{option:"europaplatz"},{option:"pfuehlpark"}],correct:"<p><strong>Richtig, gut erkannt!</strong></p>",incorrect:"<p><strong>Leider falsch.</strong></p>"}]},hnx={};!function(a,b){"use strict";var c=function(){b("area").each(function(a,c){b(c).qtip({style:{classes:"qtip-red qtip-rounded qtip-big"},position:{my:"top left",at:"top right"}})})},d=function(){b("area, .scrolling-menu a, .home").on("click",function(){var c=b(this).attr("href");return a.scrollTo(c,2e3),!1})},e=function(){window.location.hash&&"#start"!=window.location.hash&&b(".lift").show();var c=function(){var a=b(window).scrollTop(),c=null,d=null;return b(".lift-target").each(function(e,f){var g=Math.abs(a-b(f).offset().top);(null==c||d>g)&&(c=b(f),d=g)}),c};b(".lift .up").on("click",function(){var b=c(),d=b.prev();d.length>0&&d.attr("id")?a.scrollTo("#"+d.attr("id"),2e3):a.scrollTo("#start",2e3)}),b(".lift .down").on("click",function(){var b=c(),d=b.next();d.length>0&&d.attr("id")&&a.scrollTo("#"+d.attr("id"),2e3)}),b("#start").on("inview",function(a,c){c&&b(".lift").hide()}),b(".articles").on("inview",function(a,c){c&&b(".lift").show()})},f=function(){b("img[usemap]").rwdImageMaps()},g=function(){var c=function(){var c=b(this).attr("href"),d=b(c).find(".modal-placeholder");return d.length>0&&a.replacePlaceholder(d),b(c).modal("show"),!1};b("#kanal area").on("click",c)},h=function(){var a=function(){var a=b(this).attr("href");b(a).modal("show");var c=null;return"#urneModal"==a&&(c='<iframe src="//infogr.am/Trend-zur-Feuerbestattung" width="550" height="1163" scrolling="no" frameborder="0" style="border:none;"></iframe><div style="width:550px;border-top:1px solid #acacac;padding-top:3px;font-family:Arial;font-size:10px;text-align:center;"><a target="_blank" href="http://infogr.am/Trend-zur-Feuerbestattung" style="color:#acacac;text-decoration:none;">Trend zur Feuerbestattung</a> | <a style="color:#acacac;text-decoration:none;" href="http://infogr.am" target="_blank">Infographics</a></div>'),"#kreuzModal"==a&&(c='<iframe width="100%" height="450px" style="max-height:100%;" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.com/maps/ms?msid=211773603488375674917.0004db6b44168f38fae8d&amp;msa=0&amp;hl=de&amp;ie=UTF8&amp;t=m&amp;ll=49.155215,9.18457&amp;spn=0.157176,0.291824&amp;z=11&amp;output=embed"></iframe>'),c&&b(a+" .modal-body").html(c),!1};b("#grab area").on("click",a)};a.replacePlaceholder=function(a){var c="";b(a).hasClass("vimeo-placeholder")?c='<iframe src="http://player.vimeo.com/video/'+b(a).data("video")+'" allowFullScreen="true" height="421" width="750" class="responsive-iframe"></iframe>':b(a).hasClass("popcorn-placeholder")?c='<iframe src="https://popcorn.webmadecontent.org/'+b(a).data("id")+'" width="750" height="421" frameborder="0" mozallowfullscreen webkitallowfullscreen allowfullscreen class="responsive-iframe"></iframe>':b(a).hasClass("prezi-placeholder")?c='<iframe src="http://prezi.com/embed/'+b(a).data("id")+'/?bgcolor=ffffff&amp;lock_to_path=0&amp;autoplay=0&amp;autohide_ctrls=0&amp;features=undefined&amp;disabled_features=undefined" width="750" height="421" frameBorder="0" class="responsive-iframe"></iframe>':b(a).hasClass("storify-placeholder")&&(c='<iframe src="http://storify.com/'+b(a).data("id")+'.html" width="100%" height="600px"></iframe>'),b(a).after(c),b(a).off("inview"),b(a).remove()};var i=function(){var c=function(c,d){d&&!a.isScrolling&&a.replacePlaceholder(b(this))};b(".placeholder").on("inview",c)},j=function(){b("#slickQuiz").slickQuiz({skipStartButton:!0,checkAnswerText:"Stimmt das?",nextQuestionText:"Nächste Frage",tryAgainText:"Noch einmal"})};a.init=function(){c(),e(),d(),f(),h(),g(),i(),j()},a.isScrolling=!1,a.scrollTo=function(c,d){d=isNaN(d)?500:d,a.isScrolling||(a.isScrolling=!0,b("body,html,document").animate({scrollTop:b(c).offset().top},d,function(){a.isScrolling=!1,b(c).find(".placeholder").length>0&&a.replacePlaceholder(b(c).find(".placeholder"))}),Modernizr.history&&history.pushState({},"",c))}}(hnx,jQuery);